<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç - SoundMate</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #000000;
            --secondary: #ffffff;
            --accent: #00ff88;
            --gray: #1a1a1a;
            --light-gray: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--primary);
            color: var(--secondary);
            line-height: 1.6;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--light-gray);
        }

        .nav-logo {
            font-size: 24px;
            font-weight: 700;
            color: var(--secondary);
            text-decoration: none;
        }

        .nav-logo span {
            color: var(--accent);
        }

        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-link {
            color: var(--secondary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: color 0.3s;
            padding: 8px 16px;
            border-radius: 20px;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--accent);
            background: rgba(0, 255, 136, 0.1);
        }

        .nav-cta {
            background: transparent;
            color: var(--secondary);
            padding: 10px 24px;
            border-radius: 25px;
            border: 1px solid var(--light-gray);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .nav-cta:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        /* Sidebar */
        .dashboard-container {
            display: flex;
            padding-top: 80px;
        }

        .sidebar {
            width: 280px;
            background: var(--gray);
            height: calc(100vh - 80px);
            position: fixed;
            left: 0;
            padding: 30px 20px;
            border-right: 1px solid var(--light-gray);
        }

        .sidebar-menu {
            list-style: none;
        }

        .sidebar-item {
            margin-bottom: 10px;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            color: #999;
            text-decoration: none;
            border-radius: 12px;
            transition: all 0.3s;
            font-size: 15px;
        }

        .sidebar-link:hover, .sidebar-link.active {
            background: var(--light-gray);
            color: var(--accent);
        }

        .sidebar-link i {
            font-size: 18px;
            width: 20px;
        }

        /* Main Content */
        .main-content {
            margin-left: 280px;
            padding: 40px;
            width: calc(100% - 280px);
        }

        /* Profile Header */
        .profile-header {
            background: linear-gradient(135deg, var(--gray) 0%, var(--light-gray) 100%);
            padding: 40px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
            border: 1px solid var(--light-gray);
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--accent);
            box-shadow: 0 0 30px rgba(0, 255, 136, 0.3);
        }

        .profile-info h1 {
            font-size: 36px;
            margin-bottom: 8px;
        }

        .profile-info p {
            color: #999;
            font-size: 16px;
        }

        .profile-badge {
            display: inline-block;
            background: rgba(0, 255, 136, 0.1);
            color: var(--accent);
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 10px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--gray);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--light-gray);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.1);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: rgba(0, 255, 136, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 24px;
            color: var(--accent);
        }

        .stat-value {
            font-size: 36px;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 8px;
        }

        .stat-label {
            color: #999;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-change {
            font-size: 12px;
            color: var(--accent);
            margin-top: 8px;
        }

        /* Content Sections */
        .content-section {
            margin-bottom: 40px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
        }

        .section-link {
            color: var(--accent);
            text-decoration: none;
            font-size: 14px;
            font-weight: 600;
        }

        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .content-card {
            background: var(--gray);
            padding: 25px;
            border-radius: 20px;
            border: 1px solid var(--light-gray);
        }

        .content-card h3 {
            font-size: 18px;
            margin-bottom: 15px;
        }

        .list-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 0;
            border-bottom: 1px solid var(--light-gray);
        }

        .list-item:last-child {
            border-bottom: none;
        }

        .list-item-image {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
        }

        .list-item-info {
            flex: 1;
        }

        .list-item-title {
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .list-item-subtitle {
            font-size: 13px;
            color: #999;
        }

        .list-item-number {
            font-size: 20px;
            font-weight: 700;
            color: #666;
        }

        /* Chart Container */
        .chart-container {
            background: var(--gray);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--light-gray);
            margin-bottom: 40px;
        }

        .chart-placeholder {
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light-gray);
            border-radius: 12px;
            color: #666;
        }

        /* Loading */
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 400px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--light-gray);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Button Styles */
        .period-btn, .tab-btn {
            padding: 10px 20px;
            background: var(--light-gray);
            border: 1px solid transparent;
            border-radius: 20px;
            cursor: pointer;
            color: #999;
            font-weight: 600;
            transition: all 0.3s;
        }

        .period-btn:hover, .tab-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .period-btn.active, .tab-btn.active {
            background: var(--accent);
            color: var(--primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                display: none;
            }
            
            .main-content {
                margin-left: 0;
                width: 100%;
                padding: 20px;
            }
            
            .profile-header {
                flex-direction: column;
                text-align: center;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <a href="index.html" class="nav-logo">Sound<span>Mate</span></a>
        <div class="nav-links">
            <a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="studio.html" class="nav-link">AI –°—Ç—É–¥–∏—è</a>
            <a href="community.html" class="nav-link">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</a>
            <a href="dashboard.html" class="nav-link active">Dashboard</a>
        </div>
        <button class="nav-cta" onclick="logout()">
            <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
        </button>
    </nav>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <ul class="sidebar-menu">
                <li class="sidebar-item">
                    <a href="#overview" class="sidebar-link active" onclick="showSection('overview')">
                        <i class="fas fa-home"></i>
                        <span>–û–±–∑–æ—Ä</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#profile" class="sidebar-link" onclick="showSection('profile')">
                        <i class="fas fa-user"></i>
                        <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#stats" class="sidebar-link" onclick="showSection('stats')">
                        <i class="fas fa-chart-line"></i>
                        <span>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#music" class="sidebar-link" onclick="showSection('music')">
                        <i class="fas fa-music"></i>
                        <span>–ú–æ—è –º—É–∑—ã–∫–∞</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#matches" class="sidebar-link" onclick="showSection('matches')">
                        <i class="fas fa-users"></i>
                        <span>–°–æ–≤–ø–∞–¥–µ–Ω–∏—è</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#friends" class="sidebar-link" onclick="showSection('friends')">
                        <i class="fas fa-user-friends"></i>
                        <span>–î—Ä—É–∑—å—è</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#discover" class="sidebar-link" onclick="showSection('discover')">
                        <i class="fas fa-search"></i>
                        <span>–ü–æ–∏—Å–∫ –ª—é–¥–µ–π</span>
                    </a>
                </li>
                <li class="sidebar-item">
                    <a href="#settings" class="sidebar-link" onclick="showSection('settings')">
                        <i class="fas fa-cog"></i>
                        <span>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                    </a>
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Loading State -->
            <div id="loadingState" class="loading">
                <div class="spinner"></div>
            </div>

            <!-- Overview Section -->
            <div id="overviewSection" style="display: none;">
                <!-- Profile Header -->
                <div class="profile-header">
                    <img id="userAvatar" class="profile-avatar" src="https://via.placeholder.com/120" alt="–ê–≤–∞—Ç–∞—Ä">
                    <div class="profile-info">
                        <h1 id="userName">–ó–∞–≥—Ä—É–∑–∫–∞...</h1>
                        <p id="userEmail">–ó–∞–≥—Ä—É–∑–∫–∞...</p>
                        <span class="profile-badge">
                            <i class="fab fa-spotify"></i> Spotify Connected
                        </span>
                    </div>
                </div>

                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-music"></i>
                        </div>
                        <div class="stat-value" id="totalTracks">0</div>
                        <div class="stat-label">–¢—Ä–µ–∫–æ–≤ –ø—Ä–æ—Å–ª—É—à–∞–Ω–æ</div>
                        <div class="stat-change">+12% –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-microphone"></i>
                        </div>
                        <div class="stat-value" id="totalArtists">0</div>
                        <div class="stat-label">–õ—é–±–∏–º—ã—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤</div>
                        <div class="stat-change">+5 –Ω–æ–≤—ã—Ö</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-value" id="listeningTime">0</div>
                        <div class="stat-label">–ß–∞—Å–æ–≤ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è</div>
                        <div class="stat-change">+8% –∑–∞ –º–µ—Å—è—Ü</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="stat-value" id="matchScore">95%</div>
                        <div class="stat-label">–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</div>
                        <div class="stat-change">–û—Ç–ª–∏—á–Ω–æ!</div>
                    </div>
                </div>

                <!-- Top Artists & Tracks -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">–¢–æ–ø –∞—Ä—Ç–∏—Å—Ç—ã</h2>
                        <a href="#" class="section-link">–°–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ ‚Üí</a>
                    </div>
                    <div class="cards-grid">
                        <div class="content-card">
                            <h3>–ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü</h3>
                            <div id="topArtistsList"></div>
                        </div>
                        <div class="content-card">
                            <h3>–¢–æ–ø —Ç—Ä–µ–∫–∏</h3>
                            <div id="topTracksList"></div>
                        </div>
                        <div class="content-card">
                            <h3>–õ—é–±–∏–º—ã–µ –∂–∞–Ω—Ä—ã</h3>
                            <div id="topGenresList"></div>
                        </div>
                    </div>
                </div>

                <!-- Listening Activity Chart -->
                <div class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è</h2>
                    </div>
                    <div class="chart-container">
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-area" style="font-size: 48px; color: #666;"></i>
                            <p style="margin-left: 20px;">–ì—Ä–∞—Ñ–∏–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Chart.js)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Profile Section -->
            <div id="profileSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-user"></i> –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
                </h2>

                <div class="content-card" style="max-width: 800px; margin-bottom: 30px;">
                    <div style="display: flex; align-items: center; gap: 30px; margin-bottom: 30px;">
                        <img id="profileAvatar" class="profile-avatar" src="" alt="Avatar">
                        <div style="flex: 1;">
                            <h2 id="profileName" style="margin-bottom: 8px;">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
                            <p id="profileEmail" style="color: #999; margin-bottom: 12px;">email@example.com</p>
                            <div style="display: flex; gap: 10px;">
                                <span class="profile-badge">
                                    <i class="fab fa-spotify"></i> Spotify Connected
                                </span>
                                <span class="profile-badge" id="profileCountry">
                                    <i class="fas fa-globe"></i> Country
                                </span>
                            </div>
                        </div>
                    </div>

                    <div style="border-top: 1px solid var(--light-gray); padding-top: 20px;">
                        <h3 style="margin-bottom: 15px;">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                            <div>
                                <p style="color: #999; font-size: 13px; margin-bottom: 5px;">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</p>
                                <p id="profileJoinDate">-</p>
                            </div>
                            <div>
                                <p style="color: #999; font-size: 13px; margin-bottom: 5px;">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</p>
                                <p id="profileLastLogin">–°–µ–≥–æ–¥–Ω—è</p>
                            </div>
                            <div>
                                <p style="color: #999; font-size: 13px; margin-bottom: 5px;">Spotify ID</p>
                                <p id="profileSpotifyId">-</p>
                            </div>
                            <div>
                                <p style="color: #999; font-size: 13px; margin-bottom: 5px;">–ü–æ–¥–ø–∏—Å—á–∏–∫–æ–≤</p>
                                <p id="profileFollowers">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-card" style="max-width: 800px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-music"></i> –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è
                    </h3>
                    <div id="profileGenres" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
                </div>
            </div>

            <!-- Stats Section -->
            <div id="statsSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-chart-line"></i> –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </h2>

                <div style="display: flex; gap: 10px; margin-bottom: 30px;">
                    <button class="period-btn active" onclick="changePeriod('week')">–ù–µ–¥–µ–ª—è</button>
                    <button class="period-btn" onclick="changePeriod('month')">–ú–µ—Å—è—Ü</button>
                    <button class="period-btn" onclick="changePeriod('year')">–ì–æ–¥</button>
                    <button class="period-btn" onclick="changePeriod('all')">–í—Å–µ –≤—Ä–µ–º—è</button>
                </div>

                <div class="stats-grid" style="margin-bottom: 40px;">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-play"></i></div>
                        <div class="stat-value" id="statsPlays">0</div>
                        <div class="stat-label">–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π</div>
                        <div class="stat-change" id="statsPlaysChange">-</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-headphones"></i></div>
                        <div class="stat-value" id="statsMinutes">0</div>
                        <div class="stat-label">–ú–∏–Ω—É—Ç –º—É–∑—ã–∫–∏</div>
                        <div class="stat-change" id="statsMinutesChange">-</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-compact-disc"></i></div>
                        <div class="stat-value" id="statsAlbums">0</div>
                        <div class="stat-label">–ê–ª—å–±–æ–º–æ–≤</div>
                        <div class="stat-change" id="statsAlbumsChange">-</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-list"></i></div>
                        <div class="stat-value" id="statsPlaylists">0</div>
                        <div class="stat-label">–ü–ª–µ–π–ª–∏—Å—Ç–æ–≤</div>
                        <div class="stat-change" id="statsPlaylistsChange">-</div>
                    </div>
                </div>

                <div class="cards-grid">
                    <div class="chart-container">
                        <h3 style="margin-bottom: 20px;">–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –¥–Ω—è–º</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-bar" style="font-size: 48px; color: #666;"></i>
                        </div>
                    </div>
                    <div class="chart-container">
                        <h3 style="margin-bottom: 20px;">–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤</h3>
                        <div class="chart-placeholder">
                            <i class="fas fa-chart-pie" style="font-size: 48px; color: #666;"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Music Section -->
            <div id="musicSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-music"></i> –ú–æ—è –º—É–∑—ã–∫–∞
                </h2>

                <div style="display: flex; gap: 10px; margin-bottom: 30px; border-bottom: 1px solid var(--light-gray);">
                    <button class="tab-btn active" onclick="changeMusicTab('tracks')">
                        <i class="fas fa-music"></i> –¢—Ä–µ–∫–∏
                    </button>
                    <button class="tab-btn" onclick="changeMusicTab('artists')">
                        <i class="fas fa-microphone"></i> –ê—Ä—Ç–∏—Å—Ç—ã
                    </button>
                    <button class="tab-btn" onclick="changeMusicTab('albums')">
                        <i class="fas fa-compact-disc"></i> –ê–ª—å–±–æ–º—ã
                    </button>
                    <button class="tab-btn" onclick="changeMusicTab('playlists')">
                        <i class="fas fa-list"></i> –ü–ª–µ–π–ª–∏—Å—Ç—ã
                    </button>
                </div>

                <div id="tracksTab" class="music-tab">
                    <div id="musicTracksList" class="content-card"></div>
                </div>

                <div id="artistsTab" class="music-tab" style="display: none;">
                    <div id="musicArtistsList" class="content-card"></div>
                </div>

                <div id="albumsTab" class="music-tab" style="display: none;">
                    <div id="musicAlbumsList" class="content-card"></div>
                </div>

                <div id="playlistsTab" class="music-tab" style="display: none;">
                    <div id="musicPlaylistsList" class="content-card"></div>
                </div>
            </div>

            <!-- Matches Section -->
            <div id="matchesSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-users"></i> –ú—É–∑—ã–∫–∞–ª—å–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
                </h2>

                <div class="content-card" style="text-align: center; padding: 60px 40px; margin-bottom: 30px;">
                    <i class="fas fa-search" style="font-size: 64px; color: var(--accent); margin-bottom: 20px;"></i>
                    <h3 style="margin-bottom: 15px;">–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–∏—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –±–ª–∏–∑–Ω–µ—Ü–æ–≤</h3>
                    <p style="color: #999; margin-bottom: 30px; max-width: 500px; margin-left: auto; margin-right: auto;">
                        –ú—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–∞—à–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è –∏ –Ω–∞—Ö–æ–¥–∏–º –ª—é–¥–µ–π —Å –ø–æ—Ö–æ–∂–∏–º –≤–∫—É—Å–æ–º
                    </p>
                    <button onclick="findMatches()" style="padding: 15px 40px; background: var(--accent); border: none; border-radius: 30px; cursor: pointer; font-weight: 600; font-size: 16px;">
                        <i class="fas fa-magic"></i> –ù–∞–π—Ç–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
                    </button>
                </div>

                <div id="matchesList" class="cards-grid"></div>
            </div>

            <!-- Friends Section -->
            <div id="friendsSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-user-friends"></i> –ú–æ–∏ –¥—Ä—É–∑—å—è
                </h2>

                <!-- Friends Stats -->
                <div class="stats-grid" style="margin-bottom: 40px;">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-users"></i></div>
                        <div class="stat-value" id="friendsCount">0</div>
                        <div class="stat-label">–î—Ä—É–∑–µ–π</div>
                        <div class="stat-change">+2 –∑–∞ –Ω–µ–¥–µ–ª—é</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-music"></i></div>
                        <div class="stat-value" id="sharedTracks">0</div>
                        <div class="stat-label">–û–±—â–∏—Ö —Ç—Ä–µ–∫–æ–≤</div>
                        <div class="stat-change">–¢–æ–ø —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-heart"></i></div>
                        <div class="stat-value" id="avgCompatibility">0%</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω—è—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</div>
                        <div class="stat-change">–û—Ç–ª–∏—á–Ω—ã–π –≤–∫—É—Å!</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-comments"></i></div>
                        <div class="stat-value" id="activeChats">0</div>
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤</div>
                        <div class="stat-change">–°–µ–≥–æ–¥–Ω—è</div>
                    </div>
                </div>

                <!-- Friends List -->
                <div class="content-section">
                    <div class="section-header">
                        <h3 class="section-title">–°–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π</h3>
                        <button onclick="loadFriends()" class="section-link" style="background: var(--accent); color: var(--primary); padding: 8px 16px; border-radius: 20px; border: none; cursor: pointer;">
                            <i class="fas fa-sync"></i> –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                    <div id="friendsList" class="cards-grid"></div>
                </div>

                <!-- Friend Requests -->
                <div class="content-section">
                    <div class="section-header">
                        <h3 class="section-title">–ó–∞–ø—Ä–æ—Å—ã –≤ –¥—Ä—É–∑—å—è</h3>
                        <span class="section-link" id="requestsCount">0 –Ω–æ–≤—ã—Ö</span>
                    </div>
                    <div id="friendRequests" class="content-card">
                        <div style="text-align: center; padding: 40px; color: #999;">
                            <i class="fas fa-inbox" style="font-size: 48px; margin-bottom: 15px;"></i>
                            <p>–ù–µ—Ç –Ω–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –¥—Ä—É–∑—å—è</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Discover Section -->
            <div id="discoverSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-search"></i> –ü–æ–∏—Å–∫ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –¥—Ä—É–∑–µ–π
                </h2>

                <!-- Search Filters -->
                <div class="content-card" style="margin-bottom: 30px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-filter"></i> –§–∏–ª—å—Ç—Ä—ã –ø–æ–∏—Å–∫–∞
                    </h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ñ–∞–Ω—Ä –º—É–∑—ã–∫–∏</label>
                            <select id="genreFilter" style="width: 100%; padding: 10px; border-radius: 10px; border: 1px solid var(--light-gray); background: var(--gray); color: white;">
                                <option value="">–í—Å–µ –∂–∞–Ω—Ä—ã</option>
                                <option value="pop">Pop</option>
                                <option value="rock">Rock</option>
                                <option value="hip-hop">Hip-Hop</option>
                                <option value="electronic">Electronic</option>
                                <option value="jazz">Jazz</option>
                                <option value="classical">Classical</option>
                                <option value="indie">Indie</option>
                                <option value="r&b">R&B</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</label>
                            <select id="locationFilter" style="width: 100%; padding: 10px; border-radius: 10px; border: 1px solid var(--light-gray); background: var(--gray); color: white;">
                                <option value="">–õ—é–±–æ–µ</option>
                                <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                                <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                                <option value="ekb">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                                <option value="nsk">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                                <option value="kzn">–ö–∞–∑–∞–Ω—å</option>
                                <option value="nn">–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; font-weight: 600;">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</label>
                            <select id="compatibilityFilter" style="width: 100%; padding: 10px; border-radius: 10px; border: 1px solid var(--light-gray); background: var(--gray); color: white;">
                                <option value="50">50%+</option>
                                <option value="70">70%+</option>
                                <option value="80">80%+</option>
                                <option value="90">90%+</option>
                            </select>
                        </div>
                        <div style="display: flex; align-items: end;">
                            <button onclick="searchUsers()" style="width: 100%; padding: 12px; background: var(--accent); border: none; border-radius: 10px; cursor: pointer; font-weight: 600;">
                                <i class="fas fa-search"></i> –ù–∞–π—Ç–∏
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Search Results -->
                <div class="content-section">
                    <div class="section-header">
                        <h3 class="section-title">–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞</h3>
                        <span class="section-link" id="searchResultsCount">0 –Ω–∞–π–¥–µ–Ω–æ</span>
                    </div>
                    <div id="searchResults" class="cards-grid">
                        <div class="content-card" style="text-align: center; padding: 60px 40px;">
                            <i class="fas fa-search" style="font-size: 64px; color: var(--accent); margin-bottom: 20px;"></i>
                            <h3 style="margin-bottom: 15px;">–ù–∞–π–¥–∏—Ç–µ —Å–≤–æ–∏—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –±–ª–∏–∑–Ω–µ—Ü–æ–≤</h3>
                            <p style="color: #999; margin-bottom: 30px;">
                                –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –≤—ã—à–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª—é–¥–µ–π —Å –ø–æ—Ö–æ–∂–∏–º–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–º–∏ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è–º–∏
                            </p>
                            <button onclick="searchUsers()" style="padding: 15px 40px; background: var(--accent); border: none; border-radius: 30px; cursor: pointer; font-weight: 600; font-size: 16px;">
                                <i class="fas fa-magic"></i> –ù–∞—á–∞—Ç—å –ø–æ–∏—Å–∫
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Recommended Users -->
                <div class="content-section">
                    <div class="section-header">
                        <h3 class="section-title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –≤–∞—Å</h3>
                        <button onclick="loadRecommendations()" class="section-link" style="background: transparent; border: 1px solid var(--accent); color: var(--accent); padding: 6px 12px; border-radius: 15px; cursor: pointer;">
                            <i class="fas fa-refresh"></i> –û–±–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                    <div id="recommendedUsers" class="cards-grid"></div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settingsSection" style="display: none;">
                <h2 class="section-title" style="margin-bottom: 30px;">
                    <i class="fas fa-cog"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                </h2>

                <div class="content-card" style="max-width: 800px; margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-user-cog"></i> –ê–∫–∫–∞—É–Ω—Ç
                    </h3>
                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: var(--light-gray); border-radius: 10px;">
                            <div>
                                <p style="font-weight: 600; margin-bottom: 5px;">Spotify –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ</p>
                                <p style="color: #999; font-size: 14px;">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –∫ Spotify</p>
                            </div>
                            <button onclick="reconnectSpotify()" style="padding: 10px 20px; background: #1DB954; border: none; border-radius: 20px; cursor: pointer; color: white; font-weight: 600;">
                                <i class="fab fa-spotify"></i> –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å
                            </button>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; background: var(--light-gray); border-radius: 10px;">
                            <div>
                                <p style="font-weight: 600; margin-bottom: 5px;">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</p>
                                <p style="color: #999; font-size: 14px;">–û–±–Ω–æ–≤–∏—Ç—å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</p>
                            </div>
                            <button onclick="syncData()" style="padding: 10px 20px; background: var(--accent); border: none; border-radius: 20px; cursor: pointer; font-weight: 600;">
                                <i class="fas fa-sync"></i> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </div>
                    </div>
                </div>

                <div class="content-card" style="max-width: 800px; margin-bottom: 20px;">
                    <h3 style="margin-bottom: 20px;">
                        <i class="fas fa-shield-alt"></i> –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
                    </h3>
                    <div style="display: flex; flex-direction: column; gap: 15px;">
                        <label style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                            <div>
                                <p style="font-weight: 600; margin-bottom: 5px;">–ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</p>
                                <p style="color: #999; font-size: 14px;">–î—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å</p>
                            </div>
                            <input type="checkbox" id="publicProfile" checked style="width: 50px; height: 25px;">
                        </label>
                        <label style="display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
                            <div>
                                <p style="font-weight: 600; margin-bottom: 5px;">–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</p>
                                <p style="color: #999; font-size: 14px;">–î–µ–ª–∏—Ç—å—Å—è –º—É–∑—ã–∫–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π</p>
                            </div>
                            <input type="checkbox" id="showStats" checked style="width: 50px; height: 25px;">
                        </label>
                    </div>
                </div>

                <div class="content-card" style="max-width: 800px; border: 1px solid #ff4444;">
                    <h3 style="margin-bottom: 20px; color: #ff4444;">
                        <i class="fas fa-exclamation-triangle"></i> –û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞
                    </h3>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p style="font-weight: 600; margin-bottom: 5px;">–£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</p>
                            <p style="color: #999; font-size: 14px;">–ë–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</p>
                        </div>
                        <button onclick="deleteAccount()" style="padding: 10px 20px; background: #ff4444; border: none; border-radius: 20px; cursor: pointer; color: white; font-weight: 600;">
                            <i class="fas fa-trash"></i> –£–¥–∞–ª–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        const BACKEND_URL = 'https://saittt.vercel.app';
        
        // Supabase configuration (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
        const SUPABASE_URL = 'https://taalqnykovmeczuiewyx.supabase.co'; // –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRhYWxxbnlrb3ZtZWN6dWlld3l4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzMDQ4ODEsImV4cCI6MjA4MDg4MDg4MX0.wyYs0Qhwsc9NXSn9kEd5-nTfSpJ0lkJo7_P9vv3tnc0'; // –ó–∞–º–µ–Ω–∏—Ç–µ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        
        let supabase;
        if (SUPABASE_URL !== 'YOUR_SUPABASE_URL') {
            supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        }

        let currentSection = 'overview';

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
        function checkAuth() {
            const token = localStorage.getItem('spotify_token');
            if (!token) {
                console.log('No token found, redirecting to home');
                window.location.href = 'index.html';
                return null;
            }
            return token;
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π
        function showSection(section) {
            console.log('üîÑ –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ —Å–µ–∫—Ü–∏—é:', section);
            
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —Å–µ–∫—Ü–∏–∏
            document.querySelectorAll('[id$="Section"]').forEach(el => {
                el.style.display = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å–µ–∫—Ü–∏—é
            const targetSection = document.getElementById(section + 'Section');
            if (targetSection) {
                targetSection.style.display = 'block';
                console.log('‚úÖ –°–µ–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞–Ω–∞:', section);
            } else {
                console.error('‚ùå –°–µ–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞:', section + 'Section');
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é
            document.querySelectorAll('.sidebar-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // –ù–∞—Ö–æ–¥–∏–º –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω—É–∂–Ω—É—é —Å—Å—ã–ª–∫—É
            const activeLink = document.querySelector(`[onclick="showSection('${section}')"]`);
            if (activeLink) {
                activeLink.classList.add('active');
                console.log('‚úÖ –ú–µ–Ω—é –æ–±–Ω–æ–≤–ª–µ–Ω–æ –¥–ª—è:', section);
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–µ–∫—Ü–∏–∏
            if (section === 'music') {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º—É–∑—ã–∫–∞–ª—å–Ω—É—é —Å–µ–∫—Ü–∏—é
                changeMusicTab('tracks');
            } else if (section === 'stats') {
                loadStatsSection();
            } else if (section === 'profile') {
                loadProfileSection();
            } else if (section === 'friends') {
                loadFriendsSection();
            } else if (section === 'discover') {
                loadDiscoverSection();
            }
            
            currentSection = section;
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        async function loadUserData() {
            const token = checkAuth();
            if (!token) return;

            try {
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                const userInfo = await fetch(`${BACKEND_URL}/api/user-info`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (!userInfo.ok) throw new Error('Failed to load user info');

                const userData = await userInfo.json();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
                document.getElementById('userName').textContent = userData.user.displayName || 'Spotify User';
                document.getElementById('userEmail').textContent = userData.user.email || '';
                if (userData.user.image) {
                    document.getElementById('userAvatar').src = userData.user.image;
                }

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Supabase (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
                if (supabase) {
                    await saveUserToSupabase(userData.user, token);
                }

                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ø-—Ç—Ä–µ–∫–∏
                const tracksResponse = await fetch(`${BACKEND_URL}/api/top-tracks`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (tracksResponse.ok) {
                    const tracksData = await tracksResponse.json();
                    await displayData(tracksData.tracks, userData.user);
                }

                // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
                document.getElementById('loadingState').style.display = 'none';
                document.getElementById('overviewSection').style.display = 'block';

            } catch (error) {
                console.error('Error loading data:', error);
                
                if (error.message.includes('401')) {
                    localStorage.clear();
                    alert('–°–µ—Å—Å–∏—è –∏—Å—Ç–µ–∫–ª–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞.');
                    window.location.href = 'index.html';
                } else {
                    document.getElementById('loadingState').innerHTML = `
                        <div style="text-align: center;">
                            <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #ff4444; margin-bottom: 20px;"></i>
                            <p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>
                            <button onclick="location.reload()" style="margin-top: 20px; padding: 10px 20px; background: var(--accent); border: none; border-radius: 20px; cursor: pointer;">
                                –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
                            </button>
                        </div>
                    `;
                }
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Supabase
        async function saveUserToSupabase(user, token) {
            try {
                const { data, error } = await supabase
                    .from('users')
                    .upsert({
                        spotify_id: user.id,
                        display_name: user.displayName,
                        email: user.email,
                        profile_image: user.image,
                        country: user.country,
                        updated_at: new Date().toISOString()
                    }, {
                        onConflict: 'spotify_id'
                    });

                if (error) throw error;
                console.log('User saved to Supabase');
            } catch (error) {
                console.error('Error saving to Supabase:', error);
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
        async function displayData(tracks, user) {
            if (!tracks || tracks.length === 0) return;

            // –ò–∑–≤–ª–µ–∫–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∞—Ä—Ç–∏—Å—Ç–æ–≤
            const artists = [...new Set(tracks.map(t => t.artist))];
            const genres = extractGenres(tracks);

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
            document.getElementById('totalTracks').textContent = tracks.length;
            document.getElementById('totalArtists').textContent = artists.length;
            document.getElementById('listeningTime').textContent = Math.floor(Math.random() * 500 + 100);

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ø –∞—Ä—Ç–∏—Å—Ç–æ–≤
            const artistsList = document.getElementById('topArtistsList');
            artistsList.innerHTML = '';
            artists.slice(0, 5).forEach((artist, index) => {
                artistsList.innerHTML += `
                    <div class="list-item">
                        <div class="list-item-number">${index + 1}</div>
                        <div class="list-item-image" style="background: linear-gradient(135deg, var(--accent) 0%, #00cc70 100%); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-microphone" style="color: white;"></i>
                        </div>
                        <div class="list-item-info">
                            <div class="list-item-title">${artist}</div>
                            <div class="list-item-subtitle">${Math.floor(Math.random() * 50 + 10)} —Ç—Ä–µ–∫–æ–≤</div>
                        </div>
                    </div>
                `;
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ø —Ç—Ä–µ–∫–∏
            const tracksList = document.getElementById('topTracksList');
            tracksList.innerHTML = '';
            tracks.slice(0, 5).forEach((track, index) => {
                tracksList.innerHTML += `
                    <div class="list-item">
                        <div class="list-item-number">${index + 1}</div>
                        <img class="list-item-image" src="${track.image || 'https://via.placeholder.com/50'}" alt="${track.name}">
                        <div class="list-item-info">
                            <div class="list-item-title">${track.name}</div>
                            <div class="list-item-subtitle">${track.artist}</div>
                        </div>
                    </div>
                `;
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∂–∞–Ω—Ä—ã
            const genresList = document.getElementById('topGenresList');
            genresList.innerHTML = '';
            genres.slice(0, 5).forEach((genre, index) => {
                genresList.innerHTML += `
                    <div class="list-item">
                        <div class="list-item-number">${index + 1}</div>
                        <div class="list-item-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-music" style="color: white;"></i>
                        </div>
                        <div class="list-item-info">
                            <div class="list-item-title">${genre}</div>
                            <div class="list-item-subtitle">${Math.floor(Math.random() * 30 + 5)} —Ç—Ä–µ–∫–æ–≤</div>
                        </div>
                    </div>
                `;
            });

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Supabase
            if (supabase && user) {
                await saveMusicDataToSupabase(user.id, tracks, artists, genres);
            }
        }

        // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∂–∞–Ω—Ä–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞)
        function extractGenres(tracks) {
            const genres = ['Pop', 'Rock', 'Hip-Hop', 'Electronic', 'Jazz', 'Classical', 'R&B', 'Country'];
            return genres.sort(() => 0.5 - Math.random()).slice(0, 5);
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ Supabase
        async function saveMusicDataToSupabase(userId, tracks, artists, genres) {
            try {
                // –ü–æ–ª—É—á–∞–µ–º user_id –∏–∑ Supabase
                const { data: userData } = await supabase
                    .from('users')
                    .select('id')
                    .eq('spotify_id', userId)
                    .single();

                if (!userData) return;

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                await supabase
                    .from('user_music_data')
                    .upsert({
                        user_id: userData.id,
                        top_artists: artists.slice(0, 10),
                        top_tracks: tracks.slice(0, 10).map(t => ({
                            name: t.name,
                            artist: t.artist,
                            image: t.image
                        })),
                        top_genres: genres,
                        updated_at: new Date().toISOString()
                    });

                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                await supabase
                    .from('user_stats')
                    .upsert({
                        user_id: userData.id,
                        total_tracks: tracks.length,
                        total_artists: artists.length,
                        favorite_genre: genres[0],
                        updated_at: new Date().toISOString()
                    });

                console.log('Music data saved to Supabase');
            } catch (error) {
                console.error('Error saving music data:', error);
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // PROFILE SECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        async function loadProfileSection() {
            const token = localStorage.getItem('spotify_token');
            if (!token) return;

            try {
                const response = await fetch(`${BACKEND_URL}/api/user-info`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });

                if (response.ok) {
                    const data = await response.json();
                    const user = data.user;

                    document.getElementById('profileAvatar').src = user.image || 'https://via.placeholder.com/120';
                    document.getElementById('profileName').textContent = user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
                    document.getElementById('profileEmail').textContent = user.email || '';
                    document.getElementById('profileCountry').innerHTML = `<i class="fas fa-globe"></i> ${user.country || 'Unknown'}`;
                    document.getElementById('profileSpotifyId').textContent = user.id || '-';
                    document.getElementById('profileFollowers').textContent = user.followers || '0';
                    
                    const joinDate = new Date();
                    document.getElementById('profileJoinDate').textContent = joinDate.toLocaleDateString('ru-RU');
                    
                    // Load genres
                    const genres = extractGenres([]);
                    const genresContainer = document.getElementById('profileGenres');
                    genresContainer.innerHTML = '';
                    genres.forEach(genre => {
                        genresContainer.innerHTML += `
                            <span style="padding: 8px 16px; background: var(--light-gray); border-radius: 20px; font-size: 14px;">
                                ${genre}
                            </span>
                        `;
                    });
                }
            } catch (error) {
                console.error('Error loading profile:', error);
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // STATS SECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        let currentPeriod = 'month';

        function changePeriod(period) {
            currentPeriod = period;
            document.querySelectorAll('.period-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            loadStatsSection();
        }

        async function loadStatsSection() {
            const stats = {
                plays: Math.floor(Math.random() * 5000 + 1000),
                minutes: Math.floor(Math.random() * 10000 + 2000),
                albums: Math.floor(Math.random() * 200 + 50),
                playlists: Math.floor(Math.random() * 50 + 10)
            };
            
            document.getElementById('statsPlays').textContent = stats.plays.toLocaleString();
            document.getElementById('statsMinutes').textContent = stats.minutes.toLocaleString();
            document.getElementById('statsAlbums').textContent = stats.albums;
            document.getElementById('statsPlaylists').textContent = stats.playlists;
            
            document.getElementById('statsPlaysChange').textContent = '+' + Math.floor(Math.random() * 20 + 5) + '%';
            document.getElementById('statsMinutesChange').textContent = '+' + Math.floor(Math.random() * 15 + 3) + '%';
            document.getElementById('statsAlbumsChange').textContent = '+' + Math.floor(Math.random() * 10) + ' –Ω–æ–≤—ã—Ö';
            document.getElementById('statsPlaylistsChange').textContent = '+' + Math.floor(Math.random() * 5) + ' –Ω–æ–≤—ã—Ö';
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MUSIC SECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        let currentMusicTab = 'tracks';

        function changeMusicTab(tab) {
            currentMusicTab = tab;
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.querySelectorAll('.music-tab').forEach(t => t.style.display = 'none');
            document.getElementById(tab + 'Tab').style.display = 'block';
            
            loadMusicTab(tab);
        }

        async function loadMusicTab(tab) {
            const token = localStorage.getItem('spotify_token');
            if (!token) return;
            
            try {
                let endpoint = '';
                let containerId = '';
                
                switch(tab) {
                    case 'tracks':
                        endpoint = '/api/top-tracks';
                        containerId = 'musicTracksList';
                        break;
                    case 'artists':
                        endpoint = '/api/top-artists';
                        containerId = 'musicArtistsList';
                        break;
                    default:
                        containerId = 'music' + tab.charAt(0).toUpperCase() + tab.slice(1) + 'List';
                        document.getElementById(containerId).innerHTML = `
                            <div style="text-align: center; padding: 60px 20px;">
                                <i class="fas fa-compact-disc" style="font-size: 64px; color: #666; margin-bottom: 20px;"></i>
                                <p style="color: #999;">–≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏</p>
                            </div>
                        `;
                        return;
                }
                
                const response = await fetch(`${BACKEND_URL}${endpoint}`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    displayMusicData(containerId, data, tab);
                }
            } catch (error) {
                console.error('Error loading music tab:', error);
            }
        }

        function displayMusicData(containerId, data, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            if (type === 'tracks' && data.tracks) {
                data.tracks.forEach((track, index) => {
                    container.innerHTML += `
                        <div class="list-item">
                            <div class="list-item-number">${index + 1}</div>
                            <img class="list-item-image" src="${track.image || 'https://via.placeholder.com/50'}" alt="${track.name}">
                            <div class="list-item-info">
                                <div class="list-item-title">${track.name}</div>
                                <div class="list-item-subtitle">${track.artist}</div>
                            </div>
                            <div style="color: #999; font-size: 14px;">${formatDuration(track.duration)}</div>
                        </div>
                    `;
                });
            } else if (type === 'artists' && data.artists) {
                data.artists.forEach((artist, index) => {
                    container.innerHTML += `
                        <div class="list-item">
                            <div class="list-item-number">${index + 1}</div>
                            <img class="list-item-image" src="${artist.image || 'https://via.placeholder.com/50'}" alt="${artist.name}">
                            <div class="list-item-info">
                                <div class="list-item-title">${artist.name}</div>
                                <div class="list-item-subtitle">${artist.genres ? artist.genres.slice(0, 2).join(', ') : 'Artist'}</div>
                            </div>
                            <div style="color: #999; font-size: 14px;">${artist.popularity || 0}%</div>
                        </div>
                    `;
                });
            }
        }

        function formatDuration(ms) {
            const minutes = Math.floor(ms / 60000);
            const seconds = ((ms % 60000) / 1000).toFixed(0);
            return minutes + ":" + (seconds < 10 ? '0' : '') + seconds;
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MATCHES SECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        async function findMatches() {
            const matchesList = document.getElementById('matchesList');
            matchesList.innerHTML = '<div class="loading"><div class="spinner"></div></div>';
            
            setTimeout(() => {
                const matches = generateMockMatches(6);
                displayMatches(matches);
            }, 2000);
        }

        function generateMockMatches(count) {
            const names = ['–ê–ª–µ–∫—Å–µ–π', '–ú–∞—Ä–∏—è', '–î–º–∏—Ç—Ä–∏–π', '–ê–Ω–Ω–∞', '–ò–≤–∞–Ω', '–ï–ª–µ–Ω–∞'];
            const genres = ['Pop', 'Rock', 'Hip-Hop', 'Electronic', 'Jazz'];
            
            return Array.from({length: count}, (_, i) => ({
                name: names[Math.floor(Math.random() * names.length)] + ' ' + String.fromCharCode(65 + i) + '.',
                match: Math.floor(Math.random() * 20 + 75),
                genres: genres.sort(() => 0.5 - Math.random()).slice(0, 3),
                tracks: Math.floor(Math.random() * 500 + 100)
            }));
        }

        function displayMatches(matches) {
            const matchesList = document.getElementById('matchesList');
            matchesList.innerHTML = '';
            
            matches.forEach(match => {
                matchesList.innerHTML += `
                    <div class="content-card" style="text-align: center;">
                        <div style="width: 80px; height: 80px; border-radius: 50%; background: linear-gradient(135deg, var(--accent) 0%, #00cc70 100%); margin: 0 auto 15px; display: flex; align-items: center; justify-content: center; font-size: 32px; font-weight: 700;">
                            ${match.name.charAt(0)}
                        </div>
                        <h3 style="margin-bottom: 8px;">${match.name}</h3>
                        <div style="color: var(--accent); font-size: 24px; font-weight: 700; margin-bottom: 10px;">
                            ${match.match}% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
                        </div>
                        <div style="color: #999; font-size: 14px; margin-bottom: 15px;">
                            ${match.genres.join(', ')}
                        </div>
                        <div style="color: #999; font-size: 13px; margin-bottom: 20px;">
                            ${match.tracks} –æ–±—â–∏—Ö —Ç—Ä–µ–∫–æ–≤
                        </div>
                        <button onclick="alert('–ó–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!')" style="width: 100%; padding: 12px; background: var(--accent); border: none; border-radius: 20px; cursor: pointer; font-weight: 600;">
                            <i class="fas fa-user-plus"></i> –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
                        </button>
                    </div>
                `;
            });
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SETTINGS SECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function reconnectSpotify() {
            if (confirm('–ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å Spotify –∞–∫–∫–∞—É–Ω—Ç?')) {
                localStorage.clear();
                window.location.href = `${BACKEND_URL}/auth/spotify`;
            }
        }

        async function syncData() {
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...';
            btn.disabled = true;
            
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-check"></i> –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ!';
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                    location.reload();
                }, 1500);
            }, 2000);
        }

        function deleteAccount() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç?')) {
                if (confirm('–ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ! –í—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã.')) {
                    localStorage.clear();
                    alert('–ê–∫–∫–∞—É–Ω—Ç —É–¥–∞–ª–µ–Ω.');
                    window.location.href = 'index.html';
                }
            }
        }

        function logout() {
            localStorage.clear();
            window.location.href = 'index.html';
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            loadUserData();
        });
    </script>
    
    <!-- Dashboard Functions -->
    <script src="dashboard-functions.js"></script>
</body>
</html>
