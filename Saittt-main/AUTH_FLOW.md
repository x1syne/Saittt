# üîê –°—Ö–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Spotify OAuth

## –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ø–æ—Ç–æ–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ü–û–¢–û–ö –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò SPOTIFY                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

1Ô∏è‚É£  –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ù–ê –ì–õ–ê–í–ù–û–ô –°–¢–†–ê–ù–ò–¶–ï
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   index.html (GitHub Pages)      ‚îÇ
    ‚îÇ   https://x1syne.github.io/...   ‚îÇ
    ‚îÇ                                  ‚îÇ
    ‚îÇ   [–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Spotify] ‚Üê –∫–ª–∏–∫  ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚îÇ loginWithSpotify()
                    ‚ñº
    
2Ô∏è‚É£  –ü–ï–†–ï–ù–ê–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ê BACKEND
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Backend API (Vercel)           ‚îÇ
    ‚îÇ   https://saittt.vercel.app      ‚îÇ
    ‚îÇ                                  ‚îÇ
    ‚îÇ   GET /auth/spotify              ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚îÇ redirect
                    ‚ñº

3Ô∏è‚É£  –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –í SPOTIFY
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Spotify Authorization          ‚îÇ
    ‚îÇ   accounts.spotify.com           ‚îÇ
    ‚îÇ                                  ‚îÇ
    ‚îÇ   [–†–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø] ‚Üê –∫–ª–∏–∫     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚îÇ redirect —Å code
                    ‚ñº

4Ô∏è‚É£  CALLBACK –ù–ê BACKEND
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   Backend API (Vercel)           ‚îÇ
    ‚îÇ   /auth/spotify/callback?code=XXX‚îÇ
    ‚îÇ                                  ‚îÇ
    ‚îÇ   ‚Ä¢ –û–±–º–µ–Ω–∏–≤–∞–µ—Ç code –Ω–∞ token     ‚îÇ
    ‚îÇ   ‚Ä¢ –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚îÇ redirect —Å token
                    ‚ñº

5Ô∏è‚É£  –û–ë–†–ê–ë–û–¢–ö–ê CALLBACK
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   callback.html (GitHub Pages)   ‚îÇ
    ‚îÇ   ?token=XXX&name=YYY            ‚îÇ
    ‚îÇ                                  ‚îÇ
    ‚îÇ   ‚Ä¢ –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ localStorage     ‚îÇ
    ‚îÇ   ‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "–£—Å–ø–µ—à–Ω–æ!"        ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚îÇ redirect —á–µ—Ä–µ–∑ 1 —Å–µ–∫
                    ‚ñº

6Ô∏è‚É£  –õ–ò–ß–ù–´–ô –ö–ê–ë–ò–ù–ï–¢
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ   dashboard.html (GitHub Pages)  ‚îÇ
    ‚îÇ                                  ‚îÇ
    ‚îÇ   ‚Ä¢ –ß–∏—Ç–∞–µ—Ç token –∏–∑ localStorage ‚îÇ
    ‚îÇ   ‚Ä¢ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API   ‚îÇ
    ‚îÇ   ‚Ä¢ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å           ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

### 1Ô∏è‚É£ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–§–∞–π–ª:** `index.html`  
**URL:** `https://x1syne.github.io/Saittt/Saittt-main/index.html`

```javascript
function loginWithSpotify() {
    window.location.href = 'https://saittt.vercel.app/auth/spotify';
}
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Spotify"
- –ë—Ä–∞—É–∑–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ backend API

---

### 2Ô∏è‚É£ –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ backend

**–§–∞–π–ª:** `api/index.js`  
**Endpoint:** `GET /auth/spotify`

```javascript
app.get('/auth/spotify', (req, res) => {
    const authUrl = 'https://accounts.spotify.com/authorize?' + 
        querystring.stringify({
            response_type: 'code',
            client_id: SPOTIFY_CONFIG.clientId,
            scope: SPOTIFY_CONFIG.scopes,
            redirect_uri: SPOTIFY_CONFIG.redirectUri
        });
    res.redirect(authUrl);
});
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- Backend —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç URL –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Spotify
- –î–æ–±–∞–≤–ª—è–µ—Ç Client ID –∏ Redirect URI
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ Spotify

---

### 3Ô∏è‚É£ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ Spotify

**URL:** `https://accounts.spotify.com/authorize`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `client_id` - ID –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `redirect_uri` - –∫—É–¥–∞ –≤–µ—Ä–Ω—É—Ç—å—Å—è –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `scope` - –∫–∞–∫–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è
- `response_type=code` - —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- Spotify –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, –∫–∞–∫–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–†–∞–∑—Ä–µ—à–∏—Ç—å"
- Spotify –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ —Å –∫–æ–¥–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

### 4Ô∏è‚É£ Callback –Ω–∞ backend

**–§–∞–π–ª:** `api/index.js`  
**Endpoint:** `GET /auth/spotify/callback?code=XXX`

```javascript
app.get('/auth/spotify/callback', async (req, res) => {
    const { code } = req.query;
    
    // –û–±–º–µ–Ω–∏–≤–∞–µ–º code –Ω–∞ access_token
    const tokenResponse = await axios.post(
        'https://accounts.spotify.com/api/token',
        { grant_type: 'authorization_code', code, ... }
    );
    
    const { access_token } = tokenResponse.data;
    
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const userResponse = await axios.get(
        'https://api.spotify.com/v1/me',
        { headers: { Authorization: `Bearer ${access_token}` } }
    );
    
    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å —Ç–æ–∫–µ–Ω–æ–º
    res.redirect(`https://x1syne.github.io/.../callback.html?token=${access_token}&...`);
});
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. Backend –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç Spotify
2. –û–±–º–µ–Ω–∏–≤–∞–µ—Ç –∫–æ–¥ –Ω–∞ access token (POST –∑–∞–ø—Ä–æ—Å –∫ Spotify API)
3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç token –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
4. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ callback.html —Å —Ç–æ–∫–µ–Ω–æ–º –≤ URL

---

### 5Ô∏è‚É£ –û–±—Ä–∞–±–æ—Ç–∫–∞ callback

**–§–∞–π–ª:** `callback.html`  
**URL:** `https://x1syne.github.io/.../callback.html?token=XXX&name=YYY`

```javascript
const params = new URLSearchParams(window.location.search);
const token = params.get('token');
const name = params.get('name');

// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
localStorage.setItem('spotify_token', token);
localStorage.setItem('spotify_name', name);

// –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ dashboard
setTimeout(() => {
    window.location.href = 'dashboard.html';
}, 1000);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ localStorage –±—Ä–∞—É–∑–µ—Ä–∞
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "–£—Å–ø–µ—à–Ω–æ!"
4. –ß–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ dashboard

---

### 6Ô∏è‚É£ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

**–§–∞–π–ª:** `dashboard.html`

```javascript
// –ß–∏—Ç–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ localStorage
const token = localStorage.getItem('spotify_token');

// –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const response = await fetch('https://saittt.vercel.app/api/user-info', {
    headers: { 'Authorization': `Bearer ${token}` }
});

// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ø-—Ç—Ä–µ–∫–∏
const tracks = await fetch('https://saittt.vercel.app/api/top-tracks', {
    headers: { 'Authorization': `Bearer ${token}` }
});

// –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ
displayUserData(userData);
displayTracks(tracksData);
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ localStorage
2. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–∞ –Ω–µ—Ç - –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é
3. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –µ—Å—Ç—å - –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ API
4. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ —Ç–æ–ø-—Ç—Ä–µ–∫–∏

---

## –í–∞–∂–Ω—ã–µ URL –∏ –∏—Ö —Ä–æ–ª–∏

| URL | –†–æ–ª—å | –ì–¥–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è |
|-----|------|-------------------|
| `https://x1syne.github.io/Saittt/Saittt-main/` | Frontend (GitHub Pages) | GitHub Settings |
| `https://saittt.vercel.app` | Backend API | Vercel Dashboard |
| `https://saittt.vercel.app/auth/spotify/callback` | Redirect URI | Spotify Dashboard + Vercel ENV |
| `https://accounts.spotify.com/authorize` | Spotify OAuth | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `https://api.spotify.com/v1/me` | Spotify API | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |

---

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

```env
SPOTIFY_CLIENT_ID=–≤–∞—à_client_id
SPOTIFY_CLIENT_SECRET=–≤–∞—à_client_secret
REDIRECT_URI=https://saittt.vercel.app/auth/spotify/callback
```

**–ì–¥–µ –≤–∑—è—Ç—å:**
- Client ID –∏ Secret - –∏–∑ Spotify Developer Dashboard
- Redirect URI - –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ –≤ Spotify Dashboard

---

## –ß—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage

```javascript
localStorage.setItem('spotify_token', 'BQC...');      // Access token
localStorage.setItem('spotify_name', 'John Doe');     // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
localStorage.setItem('spotify_email', 'user@mail.com'); // Email
localStorage.setItem('spotify_image', 'https://...');  // –ê–≤–∞—Ç–∞—Ä
```

**–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–∫–µ–Ω–∞:** ~1 —á–∞—Å  
**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∑–∞–Ω–æ–≤–æ

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ **–ß—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ:**
- Client Secret —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ backend (Vercel)
- Access token –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ HTTPS
- Token —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ localStorage (–¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –≤–∞—à–µ–º—É –¥–æ–º–µ–Ω—É)

‚ö†Ô∏è **–ß—Ç–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å:**
- Token –≤ URL –≤–∏–¥–µ–Ω –≤ –∏—Å—Ç–æ—Ä–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (–ø–æ—ç—Ç–æ–º—É –±—ã—Å—Ç—Ä–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage)
- localStorage –¥–æ—Å—Ç—É–ø–µ–Ω JavaScript (–∑–∞—â–∏—Ç–∞ –æ—Ç XSS –≤–∞–∂–Ω–∞)
- Token –∏—Å—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ ~1 —á–∞—Å (–Ω—É–∂–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è refresh token –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

---

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞:

1. **index.html** - –æ—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å (F12), –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: "–ù–∞—á–∏–Ω–∞–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é..."
2. **Backend** - –æ—Ç–∫—Ä–æ–π—Ç–µ https://saittt.vercel.app/, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
3. **Spotify** - –¥–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **Callback** - –≤ –∫–æ–Ω—Å–æ–ª–∏: "Callback page loaded", "Data saved"
5. **Dashboard** - –≤ –∫–æ–Ω—Å–æ–ª–∏: "Loading user data..."

### –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

```
‚ùå INVALID_CLIENT
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Client ID –∏ Secret –≤ Vercel

‚ùå Redirect URI mismatch
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URI –≤ Spotify Dashboard

‚ùå Token not found
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ callback.html

‚ùå CORS error
   ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
```

---

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –ø–æ–Ω–∏–º–∞–µ—Ç–µ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. üéâ
